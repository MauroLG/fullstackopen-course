{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["Person","person","handleDelete","name","number","onClick","id","Persons","filter","persons","toLowerCase","includes","map","PersonForm","handleSubmit","handleNameChange","handleNumberChange","valueName","valueNumber","onSubmit","onChange","value","type","Filter","handleChange","baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newObject","post","update","newProperty","put","remove","delete","Notification","message","className","Error","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","useEffect","personsService","initialPersons","catch","error","setTimeout","console","log","event","target","preventDefault","newPersonObj","some","returnedPerson","concat","window","confirm","status","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.80853ecd.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ person, handleDelete }) => {\r\n\r\n  return (\r\n    <li>{person.name} {person.number} <button onClick={() => handleDelete(person.id, person.name)}>delete</button></li>\r\n  )\r\n}\r\n\r\nconst Persons = ({ filter, persons, handleDelete }) => {\r\n  return (\r\n    <ul>\r\n      {persons.filter(person => person.name.toLowerCase().includes(filter)).map(person => <Person key={person.id} person={person} handleDelete={handleDelete} />)}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({ handleSubmit, handleNameChange, handleNumberChange, valueName, valueNumber }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        Name: <input onChange={handleNameChange} value={valueName} />\r\n      </div>\r\n      <div>\r\n        Number: <input onChange={handleNumberChange} value={valueNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">Add</button>\r\n      </div>\r\n    </form >\r\n  )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Filter = ({ handleChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input onChange={handleChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import axios from \"axios\";\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newProperty) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newProperty)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst exportedObject = {\r\n  getAll,\r\n  create,\r\n  update,\r\n  remove\r\n}\r\n\r\nexport default exportedObject","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n  return (\r\n    <div className=\"notification\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification\r\n","import React from 'react'\r\n\r\nconst Error = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n  return (\r\n    <div className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Error\r\n","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      }).catch(error => {\n        setErrorMessage(\"The connection to the server has been lost\")\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n        console.log(\"The following error has occurred: \", error)\n      }\n      )\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value.toLowerCase())\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const newPersonObj = {\n      name: newName,\n      number: newNumber,\n    }\n\n    if (!persons.some(person => person.name === newPersonObj.name)) {\n\n      personsService\n        .create(newPersonObj)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setNotificationMessage(`Added ${returnedPerson.name}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        }).catch(error => {\n          setErrorMessage(\"The connection to the server has been lost\")\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n          console.log(\"The following error has occurred: \", error)\n        }\n        )\n    }\n    else {\n      setErrorMessage(`${newPersonObj.name} is already added to phonebook`)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n      return null\n    }\n    /*  else {\n       const auxPerson = persons.find(person => person.name === newPersonObj.name)\n       if (window.confirm(`${auxPerson.name} is already added to phonebook, replace the old number with a new one?`))\n         personsService\n           .update(auxPerson.id, { ...auxPerson, number: newPersonObj.number })\n           .then(returnedPerson => {\n             setPersons(persons.map(person => person.id !== auxPerson.id ? person : returnedPerson))\n             setNewName('')\n             setNewNumber('')\n             setNotificationMessage(`${returnedPerson.name} phone number has been modified`)\n             setTimeout(() => {\n               setNotificationMessage(null)\n             }, 5000)\n           }).catch(error => {\n             setErrorMessage(\"The connection to the server has been lost\")\n             setTimeout(() => {\n               setErrorMessage(null)\n             }, 5000)\n             console.log(\"The following error has occurred: \", error)\n           }\n           )\n     } */\n  }\n\n  const handleDelete = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      personsService\n        .remove(id)\n        .then(response => {\n          if (response.status === 204) {\n            setNotificationMessage(`Deleted ${name}`)\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n            personsService\n              .getAll()\n              .then(initialPersons => {\n                setPersons(initialPersons)\n              }).catch(error => {\n                console.log(\"The following error has occurred: \", error)\n              }\n              )\n          }\n        }).catch(error => {\n          setErrorMessage(`Information of ${name} has already been removed from server`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n          console.log(\"The following error has occurred: \", error)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} />\n      <Error message={errorMessage} />\n      <Filter handleChange={handleFilterChange} />\n      <h2>Add a new </h2>\n      <PersonForm handleSubmit={handleSubmit} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} valueName={newName} valueNumber={newNumber} />\n      <h2>Numbers</h2>\n      <Persons filter={filter} persons={persons} handleDelete={handleDelete} />\n    </div >\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport \"./index.css\"\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}